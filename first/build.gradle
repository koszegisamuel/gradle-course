plugins {
    id 'java'
    id "ca.cutterslade.analyze" version "1.10.0"
    id 'com.github.ben-manes.versions' version '0.38.0'
    id 'com.adarshr.test-logger' version '3.2.0'
}

java {
    sourceCompatibility = JavaVersion.VERSION_21
    targetCompatibility = JavaVersion.VERSION_21
}

group = 'org.example'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation "com.google.zxing:javase:3.5.0"
    testImplementation platform('org.junit:junit-bom:5.10.0')
    testImplementation 'org.junit.jupiter:junit-jupiter'
}

test {
    useJUnitPlatform()
}

defaultTasks('hello')

tasks.register('hello') {
    group = 'demo'
    description = 'Demo task'
    dependsOn ':intro'

    doLast {
        def welcome = project.findProperty('welcome') ?: 'Hello Gradle'
        println welcome
    }
}

tasks.register('intro'){
    doLast {
        println 'I am Gradle'
    }
}